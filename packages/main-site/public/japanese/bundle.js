(()=>{"use strict";var e={990(e,a,t){t.d(a,{A:()=>o});var r=t(758),n=t.n(r),s=t(935),i=t.n(s)()(n());i.push([e.id,'html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}table{border-collapse:collapse;border-spacing:0}html{font-size:10px;font-family:"Roboto",sans-serif}body{background-color:#f3faff;padding:0 10px}@media(min-width: 768px){body{padding:0}}#wrapper{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:25px}#wrapper #hiraganaGame{width:100%;min-height:300px;margin:20px auto 0;padding-left:10px;padding-right:10px;padding-bottom:25px;border:3px solid #040461;border-radius:10px;box-shadow:0px 5px 15px 3px #040461;font-size:1.4rem}#wrapper #hiraganaGame h1{text-align:center;font-size:2rem;color:#040461;margin:15px 0;letter-spacing:1px;text-transform:uppercase;font-weight:500}#wrapper .gameForm{display:flex;flex-direction:column;gap:15px;margin-top:20px}#wrapper .gameForm fieldset{display:flex;flex-wrap:wrap;gap:10px}#wrapper .gameForm fieldset>label{text-transform:capitalize;flex-basis:100%}#wrapper .gameForm fieldset>div>label input{margin-right:8px}#wrapper .gameForm__chapters{flex-wrap:wrap;justify-content:space-evenly;align-items:center}#wrapper .gameForm__chapters label{flex-basis:100%}#wrapper .gameForm__chapters_checkbox{flex-basis:48%}#wrapper .gameForm__chapters_checkbox label{font-size:1.6rem;line-height:1.3}#wrapper .gameForm button{width:90%;margin:15px auto 0;padding:12px 0;font-size:1.4rem;font-weight:500;letter-spacing:2px;text-transform:uppercase;cursor:pointer;border:none;border-radius:10px;background:#040461;color:#fff;transition:.5s;transform-origin:center}#wrapper .gameForm button:hover{letter-spacing:6px}@media(min-width: 480px){#wrapper{gap:30px}#wrapper #hiraganaGame{width:95%;font-size:1.6rem}#wrapper #hiraganaGame h1{font-size:2.2rem}#wrapper .gameForm__chapters_checkbox{flex-basis:32%}#wrapper .gameForm__chapters_checkbox label{font-size:1.8rem}#wrapper .gameForm button{width:80%;font-size:1.6rem}}@media(min-width: 768px){#wrapper{gap:40px}#wrapper #hiraganaGame{min-height:400px;margin:40px auto 0;padding-left:15px;padding-right:15px;padding-bottom:35px;border-width:4px;font-size:1.8rem}#wrapper #hiraganaGame h1{font-size:2.5rem;margin:20px 0;letter-spacing:1.5px}#wrapper .gameForm{gap:20px;margin-top:30px}#wrapper .gameForm fieldset{gap:15px}#wrapper .gameForm__chapters_checkbox label{font-size:2rem}#wrapper .gameForm button{width:70%;padding:14px 0;font-size:1.8rem;letter-spacing:3px}#wrapper .gameForm button:hover{letter-spacing:8px}}@media(min-width: 1280px){#wrapper{gap:50px}#wrapper #hiraganaGame{width:90%;max-width:1400px;min-height:500px;margin:60px auto 0;padding-left:20px;padding-right:20px;padding-bottom:50px;border-width:5px;box-shadow:0px 9px 25px 5px #040461;font-size:2rem}#wrapper #hiraganaGame h1{font-size:3rem;margin:25px 0;letter-spacing:2px}#wrapper .gameForm{gap:20px;margin-top:40px}#wrapper .gameForm fieldset{gap:20px}#wrapper .gameForm__chapters_checkbox{flex-basis:32%}#wrapper .gameForm__chapters_checkbox label{font-size:2.2rem}#wrapper .gameForm button{width:60%;margin:20px auto 0;padding:15px 0;font-size:2rem;letter-spacing:4px}#wrapper .gameForm button:hover{letter-spacing:10px}}.table{border:2px solid #000;max-width:100%;overflow-x:auto}.table-header{margin-top:8px;margin-bottom:12px}.table-header h2{text-align:center;text-transform:uppercase;letter-spacing:1px;font-weight:400;font-size:2rem}.table-body{width:max-content;min-width:100%;margin-bottom:15px;column-gap:3px;row-gap:6px}.table-cell{min-width:45px;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:2px}.table-cell span{display:inline-block;white-space:nowrap}.table-cell span:nth-child(1){font-family:"Noto Sans JP","Roboto",sans-serif;font-size:1.8rem;font-weight:400}.table-cell span:nth-child(2){font-size:1.3rem;font-weight:300}@media(min-width: 480px){.table-header h2{font-size:2.2rem;letter-spacing:2px}.table-cell{min-width:55px}.table-cell span:nth-child(1){font-size:2rem}.table-cell span:nth-child(2){font-size:1.5rem}}@media(min-width: 768px){.table{overflow-x:visible}.table-body{width:100%}.table-header{margin-top:10px;margin-bottom:16px}.table-header h2{font-size:2.5rem;letter-spacing:2.5px}.table-body{column-gap:4px;row-gap:8px}.table-cell{min-width:60px}.table-cell span:nth-child(1){font-size:2.3rem}.table-cell span:nth-child(2){font-size:1.7rem}}@media(min-width: 1280px){.table{max-width:1200px}.table-header{margin-top:10px;margin-bottom:20px}.table-header h2{font-size:3rem;letter-spacing:3px}.table-body{margin-bottom:20px;column-gap:5px;row-gap:10px}.table-cell{min-width:70px}.table-cell span:nth-child(1){font-size:2.6rem}.table-cell span:nth-child(2){font-size:1.9rem}}.gameContainer{margin-top:25px}.gameContainer form{display:flex;flex-direction:column;margin-top:15px}.gameContainer form h2{flex-basis:80%;font-size:2rem;text-align:center;margin-bottom:12px}.gameContainer form h2 span{font-family:"Noto Sans JP",sans-serif;font-weight:600}.gameContainer form fieldset{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.gameContainer form fieldset label{display:none}.gameContainer form fieldset>div{flex-basis:100%;display:flex;align-items:center;justify-content:center}.gameContainer form fieldset>div label{width:100%;display:flex;justify-content:center;align-items:center;font-size:1.6rem;line-height:3rem;cursor:pointer}.gameContainer form fieldset>div label input{display:block;position:relative;border:0px;height:1.6rem;width:1.6rem;margin-right:8px;cursor:pointer}.gameContainer form button{flex-basis:80%;align-self:center;justify-self:center;margin:15px auto 0;padding:8px 15px;background:none;border:none;font-size:1.4rem;text-transform:uppercase;cursor:pointer;border:3px solid #040461;border-radius:5px;transition:.5s}.gameContainer form button:hover{background-color:#040461;color:#fff}@media(min-width: 480px){.gameContainer form h2{font-size:2.2rem}.gameContainer form fieldset>div{flex-basis:50%}.gameContainer form fieldset>div label{font-size:1.8rem;line-height:3.2rem}.gameContainer form button{font-size:1.6rem;flex-basis:60%}}@media(min-width: 768px){.gameContainer{margin-top:35px}.gameContainer form{margin-top:25px}.gameContainer form h2{font-size:2.5rem;margin-bottom:16px}.gameContainer form fieldset>div{flex-basis:40%}.gameContainer form fieldset>div label{font-size:2.2rem;line-height:3.5rem}.gameContainer form fieldset>div label input{height:1.8rem;width:1.8rem;margin-right:10px}.gameContainer form button{flex-basis:51%;font-size:1.8rem;padding:10px 20px}}@media(min-width: 1280px){.gameContainer{margin-top:50px}.gameContainer form{margin-top:30px}.gameContainer form h2{font-size:3rem;margin-bottom:20px}.gameContainer form fieldset>div label{font-size:2.5rem;line-height:4rem}.gameContainer form fieldset>div label input{height:2rem;width:2rem}.gameContainer form button{font-size:2rem}}.gameContainer .game__questionCounter{border-bottom:1px solid #040461;width:150px;text-align:center}.gameContainer .game__result{text-align:center;width:100%}.gameContainer .game__result h3{font-size:3rem;text-align:center;letter-spacing:2px}.gameContainer .game__result p{margin-top:15px;font-size:2rem;text-align:center}.gameContainer .game__result button{width:90%;margin:25px auto 0;padding:12px 0;font-size:1.4rem;font-weight:500;letter-spacing:2px;text-transform:uppercase;cursor:pointer;border:none;border-radius:10px;background:#040461;color:#fff;transition:.5s;transform-origin:center}.gameContainer .game__result button:hover{letter-spacing:5px}@media(min-width: 480px){.gameContainer .game__questionCounter{width:170px}.gameContainer .game__result h3{font-size:4rem;letter-spacing:3px}.gameContainer .game__result p{font-size:2.2rem}.gameContainer .game__result button{width:80%;font-size:1.6rem;letter-spacing:3px}}@media(min-width: 768px){.gameContainer .game__questionCounter{width:180px}.gameContainer .game__result h3{font-size:5rem;letter-spacing:4px}.gameContainer .game__result p{margin-top:20px;font-size:2.5rem}.gameContainer .game__result button{width:70%;margin:35px auto 0;padding:14px 0;font-size:1.8rem;letter-spacing:3px}.gameContainer .game__result button:hover{letter-spacing:6px}}@media(min-width: 1280px){.gameContainer .game__questionCounter{width:200px}.gameContainer .game__result h3{font-size:6rem;letter-spacing:5px}.gameContainer .game__result p{margin-top:25px;font-size:3rem}.gameContainer .game__result button{width:60%;margin:50px auto 0;padding:15px 0;font-size:2rem;letter-spacing:4px}.gameContainer .game__result button:hover{letter-spacing:8px}}.playerStats{width:95%;margin:20px auto 0;padding:15px 0;display:flex;flex-wrap:wrap;justify-content:space-evenly;align-items:flex-start;border-radius:10px;color:#f9f9f9;background-color:#040461;font-family:"Genos",sans-serif;gap:15px}.playerStats h2{flex-basis:100%;font-size:2rem;margin-bottom:.5rem;text-transform:uppercase;text-align:center;font-weight:400;letter-spacing:1px}.playerStats>div{display:flex;flex-basis:100%;flex-wrap:wrap;flex-direction:column;justify-content:center;align-items:center;gap:3px}.playerStats>div>h3{margin-bottom:3px;text-align:center;font-size:1.8rem;font-weight:600;letter-spacing:1px}.playerStats>div>p{font-size:1.6rem;font-weight:400;text-transform:uppercase}@media(min-width: 480px){.playerStats{gap:20px;padding:20px 0}.playerStats h2{font-size:2.2rem}.playerStats>div{flex-basis:45%}.playerStats>div>h3{font-size:2rem}.playerStats>div>p{font-size:1.8rem}}@media(min-width: 768px){.playerStats{width:92%;margin:30px auto 0;padding:22px 0;gap:22px}.playerStats h2{font-size:2.5rem;margin-bottom:.8rem}.playerStats>div{flex-basis:40%;gap:4px}.playerStats>div>h3{font-size:2.2rem}.playerStats>div>p{font-size:1.9rem}}@media(min-width: 1280px){.playerStats{width:90%;margin:40px auto 0;padding:25px 0;gap:25px}.playerStats h2{font-size:2.8rem;margin-bottom:1rem}.playerStats>div{flex-basis:40%;gap:5px}.playerStats>div>h3{margin-bottom:5px;font-size:2.4rem}.playerStats>div>p{font-size:2.1rem}}',""]);const o=i},935(e){e.exports=function(e){var a=[];return a.toString=function(){return this.map(function(a){var t="",r=void 0!==a[5];return a[4]&&(t+="@supports (".concat(a[4],") {")),a[2]&&(t+="@media ".concat(a[2]," {")),r&&(t+="@layer".concat(a[5].length>0?" ".concat(a[5]):""," {")),t+=e(a),r&&(t+="}"),a[2]&&(t+="}"),a[4]&&(t+="}"),t}).join("")},a.i=function(e,t,r,n,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var m=[].concat(e[c]);r&&i[m[0]]||(void 0!==s&&(void 0===m[5]||(m[1]="@layer".concat(m[5].length>0?" ".concat(m[5]):""," {").concat(m[1],"}")),m[5]=s),t&&(m[2]?(m[1]="@media ".concat(m[2]," {").concat(m[1],"}"),m[2]=t):m[2]=t),n&&(m[4]?(m[1]="@supports (".concat(m[4],") {").concat(m[1],"}"),m[4]=n):m[4]="".concat(n)),a.push(m))}},a}},758(e){e.exports=function(e){return e[1]}},591(e){var a=[];function t(e){for(var t=-1,r=0;r<a.length;r++)if(a[r].identifier===e){t=r;break}return t}function r(e,r){for(var s={},i=[],o=0;o<e.length;o++){var l=e[o],c=r.base?l[0]+r.base:l[0],m=s[c]||0,h="".concat(c," ").concat(m);s[c]=m+1;var p=t(h),d={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)a[p].references++,a[p].updater(d);else{var g=n(d,r);r.byIndex=o,a.splice(o,0,{identifier:h,updater:g,references:1})}i.push(h)}return i}function n(e,a){var t=a.domAPI(a);return t.update(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap&&a.supports===e.supports&&a.layer===e.layer)return;t.update(e=a)}else t.remove()}}e.exports=function(e,n){var s=r(e=e||[],n=n||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var o=t(s[i]);a[o].references--}for(var l=r(e,n),c=0;c<s.length;c++){var m=t(s[c]);0===a[m].references&&(a[m].updater(),a.splice(m,1))}s=l}}},128(e){var a={};e.exports=function(e,t){var r=function(e){if(void 0===a[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}a[e]=t}return a[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},51(e){e.exports=function(e){var a=document.createElement("style");return e.setAttributes(a,e.attributes),e.insert(a,e.options),a}},855(e,a,t){e.exports=function(e){var a=t.nc;a&&e.setAttribute("nonce",a)}},740(e){e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var a=e.insertStyleElement(e);return{update:function(t){!function(e,a,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var n=void 0!==t.layer;n&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,n&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var s=t.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),a.styleTagTransform(r,e,a.options)}(a,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(a)}}}},656(e){e.exports=function(e,a){if(a.styleSheet)a.styleSheet.cssText=e;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(e))}}}},a={};function t(r){var n=a[r];if(void 0!==n)return n.exports;var s=a[r]={id:r,exports:{}};return e[r](s,s.exports,t),s.exports}t.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},t.d=(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),t.nc=void 0;var r,n,s,i,o=t(591),l=t.n(o),c=t(740),m=t.n(c),h=t(128),p=t.n(h),d=t(855),g=t.n(d),u=t(51),f=t.n(u),$=t(656),w=t.n($),y=t(990),b={};function x(e,a,t){const r=document.createElement("fieldset");r.classList.add(e);const n=document.createElement("label");return n.htmlFor=t,n.textContent=`${t}: `,r.appendChild(n),a.appendChild(r),r}function A(e){const{form:a,fieldset:t,className:r,type:n,name:s,required:i,elements:o,labels:l,selectAll:c}=e;let m;if(m=t||x(r,a,s),o.forEach((e,a)=>{const t=document.createElement("div");t.classList.add(r+"_"+n);const o=document.createElement("input");o.type=n,o.id=e,o.name=s,o.value=e,o.required=!!i;const c=document.createElement("label");if(c.htmlFor=e,c.appendChild(o),l){const e=document.createTextNode(l[a]);c.appendChild(e)}else if("text"===n)o.value="";else{const a=document.createTextNode(e);c.appendChild(a)}t.appendChild(c),m.appendChild(t)}),c){const e=document.createElement("div");e.classList.add(r+"_"+n),e.classList.add("selectAllWrapper");const a=document.createElement("input");a.type="checkbox",a.id="selectAll",a.name="selectAll",a.value="selectAll",a.required=!1;const t=document.createElement("label");t.htmlFor="selectAll";const s=document.createTextNode("Select All");t.appendChild(a),t.appendChild(s),e.appendChild(t),m.appendChild(e),e.addEventListener("click",()=>{m.querySelectorAll('input[type="checkbox"]').forEach(e=>{e!==a&&(e.checked=a.checked)})})}return m}function k(e,a,t){const r=document.createElement("button");return r.type=t,r.textContent=a,e.appendChild(r),r}b.styleTagTransform=w(),b.setAttributes=g(),b.insert=p().bind(null,"head"),b.domAPI=m(),b.insertStyleElement=f(),l()(y.A,b),y.A&&y.A.locals&&y.A.locals,function(e){e.TO_JAPANESE="japanese",e.TO_ROMAJI="romaji",e.MIXED="mixed"}(r||(r={})),function(e){e.EASY="easy",e.MEDIUM="medium",e.HARD="hard",e.EXTREME="extreme"}(n||(n={})),function(e){e.HIRAGANA="hiragana",e.KATAKANA="katakana",e.MIXED="both"}(s||(s={})),function(e){e.START="start",e.END="end"}(i||(i={}));const C="gameForm",v="gameForm__chapters",S=class{$parent;$sets;$answersDirection;$selectedAnswersDirection;$syllabaryLevels;$difficultyLevels;$form;$selectedSyllabary;$onPregameFormSubmit;$isPlayer;$chaptersContainer;constructor({parent:e,sets:a,onPregameFormSubmit:t,isPlayer:i}){this.$answersDirection=[r.TO_ROMAJI,r.TO_JAPANESE,r.MIXED],this.$difficultyLevels=[n.EASY,n.MEDIUM,n.HARD,n.EXTREME],this.$syllabaryLevels=[s.HIRAGANA,s.KATAKANA,s.MIXED],this.$sets=a,this.$parent=e,this.$form=null,this.$onPregameFormSubmit=t,this.$isPlayer=i,this.$chaptersContainer=null}render(){this.createForm()}unmount(){this.$form?.remove(),this.$form=null}createForm(){if(this.$form)return;const e=document.createElement("form");e.id=C,e.classList.add(C),this.$parent.appendChild(e),this.$form=e,!this.$isPlayer&&this.renderUsernameInput(e),this.renderAnswersDirectionSelection(e),this.renderDifficultySelection(e),this.renderSyllabarySelection(e),this.createChaptersContainer(e),this.renderGameButton(e),e.addEventListener("submit",this.handleFormSubmit.bind(this))}renderUsernameInput(e){A({form:e,className:"gameForm__username",type:"text",name:"username",required:!0,elements:["username"],selectAll:!1})}renderAnswersDirectionSelection(e){A({form:e,className:"gameForm__answersDirection",type:"radio",name:"answersDirection",required:!0,elements:this.$answersDirection,selectAll:!1}).addEventListener("change",e=>{const a=e.target;this.$selectedAnswersDirection=a.value,this.renderChaptersSelection()})}renderDifficultySelection(e){A({form:e,className:"gameForm__difficulty",type:"radio",name:"difficulty",required:!0,elements:this.$difficultyLevels,selectAll:!1})}renderSyllabarySelection(e){A({form:e,className:"gameForm__syllabary",type:"radio",name:"syllabary",required:!0,elements:this.$syllabaryLevels,selectAll:!1}).addEventListener("change",e=>{const a=e.target;this.$selectedSyllabary=a.value,this.renderChaptersSelection()})}createChaptersContainer(e){const a=x(v,e,"chapters");this.$chaptersContainer=a}renderChaptersSelection(){if(!this.$selectedAnswersDirection||!this.$selectedSyllabary)return;Array.from(this.$chaptersContainer?.children).forEach((e,a)=>{0!==a&&e.remove()});const e=Object.keys(this.$sets),a=[];let t=[];e.forEach(e=>{t.length=0,this.$sets[e].forEach(e=>{if(this.$selectedAnswersDirection===r.TO_JAPANESE)t.push(e.romaji);else switch(this.$selectedSyllabary){case s.HIRAGANA:t.push(e.hiragana);break;case s.KATAKANA:t.push(e.katakana);break;case s.MIXED:t.push(e.hiragana,e.katakana)}}),a.push(`(${t.join(", ")})`)}),A({form:this.$form,fieldset:this.$chaptersContainer,className:v,type:"checkbox",name:"chapters",required:!1,elements:e,labels:a,selectAll:!0})}renderGameButton(e){k(e,"Start Game","submit")}handleFormSubmit(e){e.preventDefault();const a=e.target,t=new FormData(a),r=t.get("username"),n=t.get("answersDirection"),s=t.get("difficulty"),i=t.getAll("chapters"),o=t.get("syllabary");0!==i.length?(this.unmount(),this.$onPregameFormSubmit(r,n,s,o,i)):alert("Pick at least one chapter")}},j=class{$answers;$container;$question;$answersDirection;$checkAnswer;$form;constructor(e,a,t,r,n){this.$container=n,this.$question=e,this.$answersDirection=a,this.$answers=t,this.$checkAnswer=r,this.$form=null}render(){this.$form||this.createForm(),this.renderQuestion(),this.renderAnswers(),this.renderSubmitButton()}createForm(){const e=document.createElement("form");e.classList.add("game__question"),this.$form=e,this.$container.appendChild(e),e.addEventListener("submit",e=>this.handleSubmit(e))}renderQuestion(){if(!this.$form)return void console.error("Question container not found");const e=document.createElement("h2");e.innerHTML=`What is the translation for: <span>${this.$question}</span>?`,this.$form.appendChild(e)}renderAnswers(){A({form:this.$form,className:"game__answer",type:"radio",name:"answer",required:!0,elements:this.$answers,selectAll:!1})}renderSubmitButton(){k(this.$form,"submit","submit")}handleSubmit(e){e.preventDefault();const a=e.target,t=new FormData(a).get("answer");t?this.$checkAnswer(t):alert("Please select an answer!")}};function _(e){for(let a=e.length-1;a>0;a--){const t=Math.floor(Math.random()*(a+1));[e[a],e[t]]=[e[t],e[a]]}return e}const T=class{$container;$answersDirection;$correctAnswer;$distractors;$question;$syllabary;$onQuestionAnswered;constructor(e,a,t){console.log(a),this.$container=e,this.$question=a.question,this.$answersDirection=a.answersDirection,this.$correctAnswer=a.correctAnswer,this.$syllabary=a.syllabary,this.$distractors=a.distractors,this.$onQuestionAnswered=t}render(){new j(this.$question,this.$answersDirection,this.generateShuffledAnswers(),this.validateAnswer.bind(this),this.$container).render()}generateShuffledAnswers(){return _([this.$correctAnswer,...this.$distractors])}validateAnswer(e){e===this.$correctAnswer?(console.log("GOOD ANSWER"),this.$onQuestionAnswered(!0,e,this.$answersDirection,this.$syllabary)):(console.log("WRONG ANSWER"),this.$onQuestionAnswered(!1,e,this.$answersDirection,this.$syllabary))}};function E(e,a){const t=document.createElement("p");return t.textContent=e,a.appendChild(t),t}const D=class{constructor(){}start(){setTimeout(()=>{console.log("time is up")},3e3)}stop(){}},R=class{$appContainer;$questionsData;$gameContainer;$questionCounter;$getScore;$onQuestionAnswered;$getCurrentQuestion;$getGameTime;$onPlayAgain;constructor(e,a,t,r,n,s,i){this.$questionsData=a,this.$appContainer=e,this.$getCurrentQuestion=t,this.$getScore=r,this.$onQuestionAnswered=n,this.$getGameTime=s,this.$onPlayAgain=i,this.$gameContainer=this.createGameContainer(),this.$questionCounter=this.renderQuestionCounter()}render(){this.$getCurrentQuestion()>=this.$questionsData.length?this.displayResults():(this.$gameContainer.replaceChildren(),this.renderQuestionCounter(),this.createQuestion())}createGameContainer(){const e=document.createElement("div");return e.classList.add("gameContainer"),this.$appContainer.appendChild(e),e}renderTimer(){document.createElement("div").classList.add("game__timer"),(new D).start()}renderQuestionCounter(){this.$questionsData&&0!==this.$questionsData.length||console.error("No questions available."),this.$questionCounter&&(this.$questionCounter.textContent=`Question ${this.$getCurrentQuestion()+1} of ${this.$questionsData.length}`);const e=document.createElement("h3");return e.setAttribute("role","status"),e.classList.add("game__questionCounter"),e.textContent=`Question ${this.$getCurrentQuestion()+1} of ${this.$questionsData.length}`,this.$gameContainer.appendChild(e),e}createQuestion(){const e=this.$getCurrentQuestion(),a={syllabary:this.$questionsData[e].syllabary,question:this.$questionsData[e].question,answersDirection:this.$questionsData[e].answersDirection,correctAnswer:this.$questionsData[e].correctAnswer,distractors:this.$questionsData[e].distractors};new T(this.$gameContainer,a,this.$onQuestionAnswered).render(),this.renderTimer()}renderNextQuestion(){this.render()}calculateTimeSpent(){const e=this.$questionsData.length,a=this.$getGameTime();return(60*a.minutes+a.seconds+a.milliseconds/1e3)/e}displayResults(){this.$gameContainer.replaceChildren();const e=document.createElement("div");e.classList.add("game__result");const a=document.createElement("h3");e.appendChild(a),this.$gameContainer.appendChild(e),a.textContent=`${(this.$getScore()/this.$questionsData.length*100).toFixed(2)}%!`,E(`You scored ${this.$getScore()} points out of ${this.$questionsData.length} possible!`,e);const t=this.$getGameTime();E(`It took you ${t.minutes} minutes, ${t.seconds} seconds and ${t.milliseconds} milliseconds to finish the game.`,e),E(`You spent ${this.calculateTimeSpent().toFixed(2)} seconds per question.`,e);const r=document.createElement("button");r.textContent="Play again!",r.classList.add("game__restartButton"),r.addEventListener("click",()=>{this.$onPlayAgain()}),e.appendChild(r)}},G=class{$chapters;$answersDirection;$difficulty;$sets;$syllabary;constructor(e,a,t,r,n){this.$answersDirection=e,this.$difficulty=a,this.$chapters=r,this.$sets=n,this.$syllabary=t}createQuestions(){const e=this.$chapters.map(e=>this.$sets[e]).flat(),a=[];return e.forEach(t=>{this.addQuestion(a,t,e)}),_(a)}addQuestion(e,a,t){switch(this.$answersDirection){case r.TO_JAPANESE:this.createRomajiQuestion(e,a,t);break;case r.TO_ROMAJI:this.createJapaneseQuestion(e,a,t);break;case r.MIXED:this.createMixedQuestion(e,a,t)}}createRomajiQuestion(e,a,t){switch(this.$syllabary){case s.HIRAGANA:e.push({syllabary:s.HIRAGANA,answersDirection:r.TO_JAPANESE,question:a.romaji,correctAnswer:a.hiragana,distractors:this.createJapaneseDistractors(t,s.HIRAGANA,a.hiragana)});break;case s.KATAKANA:e.push({syllabary:s.KATAKANA,answersDirection:r.TO_JAPANESE,question:a.romaji,correctAnswer:a.katakana,distractors:this.createJapaneseDistractors(t,s.KATAKANA,a.katakana)});break;case s.MIXED:e.push({syllabary:s.HIRAGANA,answersDirection:r.TO_JAPANESE,question:a.romaji,correctAnswer:a.hiragana,distractors:this.createJapaneseDistractors(t,s.HIRAGANA,a.hiragana)}),e.push({syllabary:s.KATAKANA,answersDirection:r.TO_JAPANESE,question:a.romaji,correctAnswer:a.katakana,distractors:this.createJapaneseDistractors(t,s.KATAKANA,a.katakana)})}}createJapaneseQuestion(e,a,t){const n=this.createRomajiDistractors(t,a.romaji);switch(this.$syllabary){case s.HIRAGANA:e.push({syllabary:s.HIRAGANA,answersDirection:r.TO_ROMAJI,question:a.hiragana,correctAnswer:a.romaji,distractors:n});break;case s.KATAKANA:e.push({syllabary:s.KATAKANA,answersDirection:r.TO_ROMAJI,question:a.katakana,correctAnswer:a.romaji,distractors:n});break;case s.MIXED:e.push({syllabary:s.HIRAGANA,answersDirection:r.TO_ROMAJI,question:a.hiragana,correctAnswer:a.romaji,distractors:n}),e.push({syllabary:s.KATAKANA,answersDirection:r.TO_ROMAJI,question:a.katakana,correctAnswer:a.romaji,distractors:n})}}createMixedQuestion(e,a,t){}createRomajiDistractors(e,a){let t=Object.values(this.$sets).flatMap(e=>e.map(e=>e.romaji)).filter(e=>e!==a);switch(this.$difficulty){case n.EASY:break;case n.MEDIUM:t=e.map(e=>e.romaji).filter(e=>e!==a);break;case n.HARD:return t=t.filter(e=>{if(1===a.length)return e.includes(a[0]);if(2===a.length){const t=a[0],r=a[1];return e.includes(t)||e.includes(r)}if(3===a.length){const t=a[0],r=a[1],n=a[2];return e.includes(t)||e.includes(r)||e.includes(n)}}),t=_(t).slice(0,5),t}return t=_(t).slice(0,3),t}createJapaneseDistractors(e,a,t){let r;switch(this.$difficulty){case n.EASY:r=e.map(e=>e[a]).filter(e=>e!==t);break;case n.MEDIUM:r=Object.values(this.$sets).flatMap(e=>e.map(e=>e[a])).filter(e=>e!==t);break;default:return this.$syllabary===s.MIXED&&(r=Object.values(this.$sets).flatMap(e=>[...e.filter(e=>e.hiragana!==t&&e.katakana!==t).map(e=>e.hiragana),...e.filter(e=>e.katakana!==t&&e.hiragana!==t).map(e=>e.katakana)]).filter(e=>e!==t)),r=_(r).slice(0,5),r}return r=_(r).slice(0,3),r}},N=class{$gameRenderer;$gameId;$player;$difficulty;$chapters;$syllabary;$score;$appContainer;$sets;$questionsData;$currentQuestion;$length;$answeredCorrectly;$answeredWrong;constructor(e,a,t,r,n,s,i,o){this.$player=e,this.$difficulty=t,this.$syllabary=r,this.$chapters=n,this.$gameId=this.createGameId(),this.$appContainer=s,this.$sets=i,this.$questionsData=new G(a,t,r,n,i).createQuestions(),this.$length={start:0,end:0},this.$score=0,this.$currentQuestion=0,this.$gameRenderer=new R(this.$appContainer,this.$questionsData,this.getCurrentQuestion.bind(this),this.getScore.bind(this),this.onQuestionAnswered.bind(this),this.getGameTime.bind(this),o),this.$answeredCorrectly={toJapanese:{hiragana:[],katakana:[]},toRomaji:{hiragana:[],katakana:[]}},this.$answeredWrong={toJapanese:{hiragana:[],katakana:[]},toRomaji:{hiragana:[],katakana:[]}}}render(){this.$gameRenderer.render(),this.setGameTime(i.START)}getScore(){return this.$answeredCorrectly.toJapanese.hiragana.length+this.$answeredCorrectly.toJapanese.katakana.length+this.$answeredCorrectly.toRomaji.hiragana.length+this.$answeredCorrectly.toRomaji.katakana.length}getGameId(){return this.$gameId}getCurrentQuestion(){return this.$currentQuestion}setGameTime(e){switch(e){case i.START:this.$length.start=Date.now();break;case i.END:this.$length.end=Date.now()}}incrementCurrentQuestion(){this.$currentQuestion++}createGameId(){if(!this.$player)throw new Error("Player not found");return`${this.$player.getName()}-${this.$difficulty}-${this.$syllabary}-${this.$chapters.at(0)}-${this.$chapters.length}-${Date.now()}`}getGameTime(){if(0===this.$length.start||0===this.$length.end)throw new Error("Game time not set");const e=this.$length.end-this.$length.start;return{minutes:Math.floor(e/1e3/60),seconds:Math.floor(e/1e3%60),milliseconds:Math.floor(e%1e3/10)}}isGameFinished(){return this.$currentQuestion>=this.$questionsData.length}onQuestionAnswered(e,a,t,n){if(e)switch(t){case r.TO_JAPANESE:switch(n){case s.HIRAGANA:this.$answeredCorrectly.toJapanese.hiragana.push(a);break;case s.KATAKANA:this.$answeredCorrectly.toJapanese.katakana.push(a)}break;case r.TO_ROMAJI:switch(n){case s.HIRAGANA:this.$answeredCorrectly.toRomaji.hiragana.push(a);break;case s.KATAKANA:this.$answeredCorrectly.toRomaji.katakana.push(a)}}else switch(t){case r.TO_JAPANESE:switch(n){case s.HIRAGANA:this.$answeredWrong.toJapanese.hiragana.push(a);break;case s.KATAKANA:this.$answeredWrong.toJapanese.katakana.push(a)}case r.TO_ROMAJI:switch(n){case s.HIRAGANA:this.$answeredWrong.toRomaji.hiragana.push(a);break;case s.KATAKANA:this.$answeredWrong.toRomaji.katakana.push(a)}}if(this.incrementCurrentQuestion(),this.isGameFinished()){this.setGameTime(i.END);const e={id:this.$gameId,time:this.getGameTime(),answersDirection:t,difficulty:this.$difficulty,questionsCount:this.$questionsData.length,correctAnswers:this.$answeredCorrectly,wrongAnswers:this.$answeredWrong};console.log(e),this.$player.addGameStatistics(e),this.$gameRenderer.displayResults()}else this.$gameRenderer.renderNextQuestion()}},z=e=>{if("number"==typeof e){const a=Math.floor(e/6e4),t=Math.floor(e%6e4/1e3),r=Math.floor(e%1e3/10);return`${a}:${t<10?"0":""}${t}.${r<10?"0":""}${r}`}return`${e.minutes}:${e.seconds<10?"0":""}${e.seconds}.${e.milliseconds<10?"0":""}${e.milliseconds}`},q=class{$playerName;$games;constructor(e,a){this.$playerName=a,this.$games=e}getTotalTime(){return Array.from(this.$games.values()).reduce((e,a)=>(e.minutes+=a.time.minutes,e.seconds+=a.time.seconds,e.milliseconds+=a.time.milliseconds,e.milliseconds>=1e3&&(e.seconds+=Math.floor(e.milliseconds/1e3),e.milliseconds%=1e3),e.seconds>=60&&(e.minutes+=Math.floor(e.seconds/60),e.seconds%=60),e),{minutes:0,seconds:0,milliseconds:0})}getAverageTime(){const e=this.getTotalTime(),a=this.$games.size,t="number"==typeof(n=e)?{minutes:Math.floor(n/6e4),seconds:Math.floor(n%6e4/1e3),milliseconds:Math.floor(n%1e3/10)}:60*n.minutes*1e3+1e3*n.seconds+n.milliseconds,r=t/Array.from(this.$games.values()).reduce((e,a)=>e+a.questionsCount,0);var n;return{perGame:z(t/a),perQuestion:z(r)}}getGeneralStats(){const e=this.calculateAnswersStats().correctAnswers,a=this.calculateAnswersStats().wrongAnswers;return{games:this.$games.size,correctAnswers:e,wrongAnswers:a,accuracy:this.getAccuracy(e,a),timeSpent:this.getTotalTime(),averageTime:this.getAverageTime()}}getJapaneseToRomajiStats(){return{games:this.calculateGames(r.TO_ROMAJI).toRomaji,correctAnswers:0,wrongAnswers:0,accuracy:"",timeSpent:{minutes:0,seconds:0,milliseconds:0},averageTime:{perGame:"",perQuestion:""}}}getRomajiToJapaneseStats(){return{games:this.calculateGames(r.TO_JAPANESE).toJapanese,correctAnswers:0,wrongAnswers:0,accuracy:"",timeSpent:{minutes:0,seconds:0,milliseconds:0},averageTime:{perGame:"",perQuestion:""}}}calculateAnswersStats(){return{correctAnswers:Array.from(this.$games.values()).reduce((e,a)=>e+(a.correctAnswers.toJapanese.hiragana.length+a.correctAnswers.toJapanese.katakana.length+a.correctAnswers.toRomaji.hiragana.length+a.correctAnswers.toRomaji.katakana.length),0),wrongAnswers:Array.from(this.$games.values()).reduce((e,a)=>e+(a.wrongAnswers.toJapanese.hiragana.length+a.wrongAnswers.toJapanese.katakana.length+a.wrongAnswers.toRomaji.hiragana.length+a.wrongAnswers.toRomaji.katakana.length),0)}}getAccuracy(e,a){return(e/(e+a)*100).toFixed(2)+"%"}calculateGames(e){return Array.from(this.$games.values()).reduce((e,a)=>{switch(a.answersDirection){case r.TO_JAPANESE:e.toJapanese++;break;case r.TO_ROMAJI:e.toRomaji++;break;case r.MIXED:e.mixed++}return e},{toRomaji:0,toJapanese:0,mixed:0})}getStats(){return{general:this.getGeneralStats(),japaneseToRomaji:this.getJapaneseToRomajiStats(),romajiToJapanese:this.getRomajiToJapaneseStats(),specificCharactersStats:{}}}};class M{$name;$answers={correct:0,wrong:0};$score=0;$games;$playerStats=null;constructor(e){this.$name=e,this.$answers={correct:0,wrong:0},this.$score=this.calculateScore(),this.$games=new Map,this.$playerStats=null}static loadFromLocalStorage(){const e=localStorage.getItem("playerData");if(!e)return null;const{name:a,games:t}=JSON.parse(e),r=new M(a),n=new Map(t);r.$games=n;const s=new q(n,a);return r.$playerStats=s,r}getName(){return this.$name}saveToLocalStorage(){const e={name:this.$name,games:Array.from(this.$games.entries())};localStorage.setItem("playerData",JSON.stringify(e))}addGameStatistics(e){if(-1===e.id.indexOf(this.$name))throw new Error("Game ID does not match player name");if(this.$games.set(this.$games.size,e),!this.$playerStats){const e=new q(this.$games,this.$name);this.$playerStats=e}this.saveToLocalStorage()}calculateScore(){return this.$score=this.$answers.correct,this.$score}}const J=M,I=(e,a,t,r)=>{const n=document.createElement("div");n.classList.add(e),a.appendChild(n);const s=document.createElement(t);return s.classList.add(`${e}-title`),s.innerText=r,n.appendChild(s),n},P=class{$name;$stats;$container;$wrapper;constructor(e,a,t){this.$name=e,this.$stats=t,this.$container=a,this.$wrapper=null}render(){this.createStatsElements()}unmount(){this.$wrapper&&this.$wrapper.remove()}createStatsElements(){const e=I("playerStats",this.$container,"h2",`${this.$name}'s stats`);this.$wrapper=e,this.renderGeneralStats(e),this.renderAverageStats(e),this.renderJapaneseToRomajiStats(e),this.renderRomajiToJapaneseStats(e),this.$stats.mixed&&this.renderMixedStats(e)}renderGeneralStats(e){const a=I("playerStats__general",e,"h3","General");E(`Games played: ${this.$stats.general.games}`,a),E(`Questions answered: ${this.$stats.general.correctAnswers+this.$stats.general.wrongAnswers}`,a),E(`Correct answers: ${this.$stats.general.correctAnswers}`,a),E(`Wrong answers: ${this.$stats.general.wrongAnswers}`,a),E(`Accuracy: ${this.$stats.general.accuracy}`,a),E(`Total time: ${this.$stats.general.timeSpent.minutes}m ${this.$stats.general.timeSpent.seconds}s ${this.$stats.general.timeSpent.milliseconds}ms`,a)}renderAverageStats(e){const a=I("playerStats__average",e,"h3","Average");E((()=>"0:"===this.$stats.general.averageTime.perGame.slice(0,2)?`time per game: ${this.$stats.general.averageTime.perGame.slice(2)}s`:`time per game: ${this.$stats.general.averageTime.perGame}min`)(),a),E(`time per question: ${this.$stats.general.averageTime.perQuestion.slice(2)}s`,a)}createHirKatParagraphs(e,a){E(`Games played: ${a.games?a.games:""}`,e),E("Hiragana correct answers: ",e),E("Hiragana wrong answers: ",e),E("Hiragana accuracy:",e),E("Katakana correct answers: ",e),E("Katakana wrong answers: ",e),E("Katakana accuracy:",e)}renderJapaneseToRomajiStats(e){const a=I("playerStats__japanese",e,"h3","Japanese to Romaji");this.createHirKatParagraphs(a,this.$stats.japaneseToRomaji)}renderRomajiToJapaneseStats(e){const a=I("playerStats__romaji",e,"h3","Romaji to Japanese");this.createHirKatParagraphs(a,this.$stats.romajiToJapanese)}renderMixedStats(e){const a=I("playerStats__mixed",e,"h3","Mixed");this.createHirKatParagraphs(a,this.$stats.mixed)}},F=class{$container;$header;$data;constructor(e,a,t){this.$container=e,this.$header=a,this.$data=t}render(){const e=Object.keys(this.$data[Object.keys(this.$data)[0]]).length,a=Object.keys(this.$data).length,t=document.createElement("div");t.classList.add("table"),this.$container.appendChild(t);const r=document.createElement("div");r.classList.add("table-header"),r.innerHTML=`<h2>${this.$header}</h2>`,t.appendChild(r);const n=document.createElement("div");n.classList.add("table-body"),n.style.display="grid",n.style.gridTemplateColumns=`repeat(${a}, 1fr)`,n.style.gridTemplateRows=`repeat(${e}, 1fr)`,t.appendChild(n);for(const e in this.$data)this.$data[e].forEach((a,t)=>{const r=document.createElement("div"),s=document.createElement("span"),i=document.createElement("span");r.appendChild(s),r.appendChild(i),r.classList.add("table-cell"),r.style.gridArea=`${t+1} / ${parseInt(e)} / ${t+2} / ${parseInt(e)+1}`,s.innerHTML=a[this.$header],i.innerHTML=a.romaji,n.appendChild(r)})}},O={1:{hiragana:"あ",katakana:"ア",romaji:"a"},2:{hiragana:"い",katakana:"イ",romaji:"i"},3:{hiragana:"う",katakana:"ウ",romaji:"u"},4:{hiragana:"え",katakana:"エ",romaji:"e"},5:{hiragana:"お",katakana:"オ",romaji:"o"},6:{hiragana:"か",katakana:"カ",romaji:"ka"},7:{hiragana:"き",katakana:"キ",romaji:"ki"},8:{hiragana:"く",katakana:"ク",romaji:"ku"},9:{hiragana:"け",katakana:"ケ",romaji:"ke"},10:{hiragana:"こ",katakana:"コ",romaji:"ko"},11:{hiragana:"さ",katakana:"サ",romaji:"sa"},12:{hiragana:"し",katakana:"シ",romaji:"shi"},13:{hiragana:"す",katakana:"ス",romaji:"su"},14:{hiragana:"せ",katakana:"セ",romaji:"se"},15:{hiragana:"そ",katakana:"ソ",romaji:"so"},16:{hiragana:"た",katakana:"タ",romaji:"ta"},17:{hiragana:"ち",katakana:"チ",romaji:"chi"},18:{hiragana:"つ",katakana:"ツ",romaji:"tsu"},19:{hiragana:"て",katakana:"テ",romaji:"te"},20:{hiragana:"と",katakana:"ト",romaji:"to"},21:{hiragana:"な",katakana:"ナ",romaji:"na"},22:{hiragana:"に",katakana:"ニ",romaji:"ni"},23:{hiragana:"ぬ",katakana:"ヌ",romaji:"nu"},24:{hiragana:"ね",katakana:"ネ",romaji:"ne"},25:{hiragana:"の",katakana:"ノ",romaji:"no"},26:{hiragana:"は",katakana:"ハ",romaji:"ha"},27:{hiragana:"ひ",katakana:"ヒ",romaji:"hi"},28:{hiragana:"ふ",katakana:"フ",romaji:"fu"},29:{hiragana:"へ",katakana:"ヘ",romaji:"he"},30:{hiragana:"ほ",katakana:"ホ",romaji:"ho"},31:{hiragana:"ま",katakana:"マ",romaji:"ma"},32:{hiragana:"み",katakana:"ミ",romaji:"mi"},33:{hiragana:"む",katakana:"ム",romaji:"mu"},34:{hiragana:"め",katakana:"メ",romaji:"me"},35:{hiragana:"も",katakana:"モ",romaji:"mo"},36:{hiragana:"や",katakana:"ヤ",romaji:"ya"},37:{hiragana:"ゆ",katakana:"ユ",romaji:"yu"},38:{hiragana:"よ",katakana:"ヨ",romaji:"yo"},39:{hiragana:"ら",katakana:"ラ",romaji:"ra"},40:{hiragana:"り",katakana:"リ",romaji:"ri"},41:{hiragana:"る",katakana:"ル",romaji:"ru"},42:{hiragana:"れ",katakana:"レ",romaji:"re"},43:{hiragana:"ろ",katakana:"ロ",romaji:"ro"},44:{hiragana:"わ",katakana:"ワ",romaji:"wa"},45:{hiragana:"を",katakana:"ヲ",romaji:"wo"},46:{hiragana:"ん",katakana:"ン",romaji:"n"},47:{hiragana:"が",katakana:"ガ",romaji:"ga"},48:{hiragana:"ぎ",katakana:"ギ",romaji:"gi"},49:{hiragana:"ぐ",katakana:"グ",romaji:"gu"},50:{hiragana:"げ",katakana:"ゲ",romaji:"ge"},51:{hiragana:"ご",katakana:"ゴ",romaji:"go"},52:{hiragana:"ざ",katakana:"ザ",romaji:"za"},53:{hiragana:"じ / ぢ",katakana:"ジ / ヂ",romaji:"ji"},54:{hiragana:"ず / づ",katakana:"ズ / ヅ",romaji:"zu"},55:{hiragana:"ぜ",katakana:"ゼ",romaji:"ze"},56:{hiragana:"ぞ",katakana:"ゾ",romaji:"zo"},57:{hiragana:"だ",katakana:"ダ",romaji:"da"},58:{hiragana:"で",katakana:"デ",romaji:"de"},59:{hiragana:"ど",katakana:"ド",romaji:"do"},60:{hiragana:"ば",katakana:"バ",romaji:"ba"},61:{hiragana:"び",katakana:"ビ",romaji:"bi"},62:{hiragana:"ぶ",katakana:"ブ",romaji:"bu"},63:{hiragana:"べ",katakana:"ベ",romaji:"be"},64:{hiragana:"ぼ",katakana:"ボ",romaji:"bo"},65:{hiragana:"ぱ",katakana:"パ",romaji:"pa"},66:{hiragana:"ぴ",katakana:"ピ",romaji:"pi"},67:{hiragana:"ぷ",katakana:"プ",romaji:"pu"},68:{hiragana:"ぺ",katakana:"ペ",romaji:"pe"},69:{hiragana:"ぽ",katakana:"ポ",romaji:"po"}},Q={1:[O[1],O[2],O[3],O[4],O[5]],2:[O[6],O[7],O[8],O[9],O[10]],3:[O[11],O[12],O[13],O[14],O[15]],4:[O[16],O[17],O[18],O[19],O[20]],5:[O[21],O[22],O[23],O[24],O[25]],6:[O[26],O[27],O[28],O[29],O[30]],7:[O[31],O[32],O[33],O[34],O[35]],8:[O[36],O[37],O[38]],9:[O[39],O[40],O[41],O[42],O[43]],10:[O[44],O[45],O[46]],11:[O[47],O[48],O[49],O[50],O[51]],12:[O[52],O[53],O[54],O[55],O[56]],13:[O[57],O[58],O[59]],14:[O[60],O[61],O[62],O[63],O[64]],15:[O[65],O[66],O[67],O[68],O[69]]};new class{$sets;$currentPlayer=null;$game;$container;$playerStats=null;constructor(e){this.$container=null,this.$sets=e,this.$currentPlayer=J.loadFromLocalStorage(),this.$game=null,this.$playerStats=null}setCurrentPlayer(e){this.$currentPlayer=e,e.saveToLocalStorage()}setGame(e){this.$game=e}render(){if(this.$game)this.$playerStats&&this.$playerStats.unmount(),this.renderGame(this.$game);else{if(this.$container)for(;this.$container.children.length>1;)this.$container.lastChild?.remove();else this.$container=this.createGameWindow();this.renderPreGameForm(this.$container),this.$currentPlayer&&(console.log("Im HERE"),this.renderPlayerStats())}}createGameWindow(){const e=document.createElement("div");e.id="wrapper",document.body.appendChild(e);const a=document.createElement("div");a.id="hiraganaGame",e.appendChild(a);const t=document.createElement("h1");return t.textContent=this.$currentPlayer?`${this.$currentPlayer.getName()}'s Learning Japanese`:"Learning Japanese",a.appendChild(t),a}renderPreGameForm(e){new S({parent:e,sets:this.$sets,onPregameFormSubmit:this.onPregameFormSubmit.bind(this),isPlayer:!!this.$currentPlayer}).render()}renderGame(e){const a=document.querySelector("h1");a&&(a.textContent=`${this.$currentPlayer?.getName()}'s learning japanese`),e.render()}renderPlayerStats(){console.log(this.$currentPlayer);const e=this.$currentPlayer.$playerStats;console.log(e);const a=new P(this.$currentPlayer.$name,this.$container,e.getStats());this.$playerStats=a,a.render()}onPregameFormSubmit(e,a,t,r,n){if(!this.$currentPlayer){const a=new J(e);this.setCurrentPlayer(a)}const s=new N(this.$currentPlayer,a,t,r,n,this.$container,this.$sets,this.onPlayAgain.bind(this));this.setGame(s),this.render()}onPlayAgain(){this.$game=null,this.render()}}(Q).render();const L=document.getElementById("wrapper");new F(L,"hiragana",Q).render(),new F(L,"katakana",Q).render()})();